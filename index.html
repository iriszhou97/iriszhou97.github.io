<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ—¥è¯­N5åœºæ™¯åŒ–å•è¯å¡ç‰‡ï¼ˆå¸¦å‘éŸ³ï¼‰</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Sans+SC:wght@400;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Noto Sans SC', 'Noto Sans JP', sans-serif;
    background: #f0f2f5;
    color: #333;
    padding: 20px;
  }

  .no-print {
    max-width: 900px;
    margin: 0 auto 30px;
    text-align: center;
  }

  .no-print h1 {
    font-size: 28px;
    color: #2c3e50;
    margin-bottom: 10px;
  }

  .no-print p {
    color: #666;
    margin-bottom: 20px;
    font-size: 14px;
  }

  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
  }

  .controls button {
    padding: 10px 20px;
    border: 2px solid #3498db;
    background: white;
    color: #3498db;
    border-radius: 25px;
    cursor: pointer;
    font-size: 14px;
    font-family: inherit;
    transition: all 0.2s;
  }

  .controls button:hover,
  .controls button.active {
    background: #3498db;
    color: white;
  }

  .controls button.print-btn {
    border-color: #e74c3c;
    color: #e74c3c;
    font-weight: 600;
  }

  .controls button.print-btn:hover {
    background: #e74c3c;
    color: white;
  }

  .controls button.audio-all-btn {
    border-color: #2ecc71;
    color: #2ecc71;
    font-weight: 600;
  }

  .controls button.audio-all-btn:hover,
  .controls button.audio-all-btn.active {
    background: #2ecc71;
    color: white;
  }

  .card-size-toggle {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
    align-items: center;
  }

  .card-size-toggle span {
    font-size: 13px;
    color: #888;
  }

  .card-size-toggle button {
    padding: 6px 14px;
    border: 1px solid #bbb;
    background: white;
    border-radius: 15px;
    cursor: pointer;
    font-size: 12px;
    font-family: inherit;
    transition: all 0.2s;
  }

  .card-size-toggle button:hover,
  .card-size-toggle button.active {
    background: #2c3e50;
    color: white;
    border-color: #2c3e50;
  }

  .speed-toggle {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
    align-items: center;
  }

  .speed-toggle span {
    font-size: 13px;
    color: #888;
  }

  .speed-toggle button {
    padding: 6px 14px;
    border: 1px solid #bbb;
    background: white;
    border-radius: 15px;
    cursor: pointer;
    font-size: 12px;
    font-family: inherit;
    transition: all 0.2s;
  }

  .speed-toggle button:hover,
  .speed-toggle button.active {
    background: #e67e22;
    color: white;
    border-color: #e67e22;
  }

  .scene-section {
    max-width: 900px;
    margin: 0 auto 40px;
  }

  .scene-title {
    font-size: 22px;
    color: #2c3e50;
    padding: 12px 20px;
    background: white;
    border-left: 5px solid #3498db;
    margin-bottom: 20px;
    border-radius: 0 8px 8px 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .scene-title .play-scene-btn {
    font-size: 13px;
    padding: 6px 14px;
    border: 1.5px solid #3498db;
    background: white;
    color: #3498db;
    border-radius: 20px;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .scene-title .play-scene-btn:hover {
    background: #3498db;
    color: white;
  }

  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
  }

  .cards-grid.size-large {
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  }

  .card {
    background: white;
    border-radius: 12px;
    padding: 18px 15px 14px;
    text-align: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    border: 1px solid #e8e8e8;
    position: relative;
    transition: transform 0.2s, box-shadow 0.2s;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.12);
  }

  .card.speaking {
    border-color: #3498db;
    box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
  }

  .card .kanji {
    font-family: 'Noto Sans JP', sans-serif;
    font-size: 28px;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 6px;
    line-height: 1.3;
  }

  .cards-grid.size-large .card .kanji {
    font-size: 34px;
  }

  .card .reading {
    font-family: 'Noto Sans JP', sans-serif;
    font-size: 14px;
    color: #3498db;
    margin-bottom: 8px;
    letter-spacing: 0.5px;
  }

  .cards-grid.size-large .card .reading {
    font-size: 16px;
  }

  .card .meaning {
    font-size: 15px;
    color: #555;
    font-weight: 600;
    padding-top: 8px;
    border-top: 1px dashed #e0e0e0;
  }

  .cards-grid.size-large .card .meaning {
    font-size: 17px;
  }

  .card .tag {
    position: absolute;
    top: 8px;
    right: 8px;
    font-size: 10px;
    padding: 2px 7px;
    border-radius: 10px;
    color: white;
    font-weight: 600;
  }

  .tag-noun { background: #3498db; }
  .tag-verb { background: #e74c3c; }
  .tag-adj { background: #2ecc71; }
  .tag-adv { background: #9b59b6; }
  .tag-phrase { background: #f39c12; }
  .tag-num { background: #1abc9c; }

  .card .speak-btn {
    position: absolute;
    top: 6px;
    left: 8px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: none;
    background: #f0f4f8;
    color: #3498db;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }

  .card .speak-btn:hover {
    background: #3498db;
    color: white;
    transform: scale(1.1);
  }

  .card .speak-btn.playing {
    background: #3498db;
    color: white;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(52,152,219,0.4); }
    70% { box-shadow: 0 0 0 8px rgba(52,152,219,0); }
    100% { box-shadow: 0 0 0 0 rgba(52,152,219,0); }
  }

  .sentence-section {
    max-width: 900px;
    margin: 0 auto 40px;
  }

  .sentence-title {
    font-size: 20px;
    color: #2c3e50;
    padding: 12px 20px;
    background: white;
    border-left: 5px solid #e74c3c;
    margin-bottom: 20px;
    border-radius: 0 8px 8px 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }

  .sentence-cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .sentence-card {
    background: white;
    border-radius: 10px;
    padding: 16px 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border: 1px solid #e8e8e8;
    break-inside: avoid;
    page-break-inside: avoid;
    position: relative;
    cursor: pointer;
    transition: all 0.2s;
  }

  .sentence-card:hover {
    border-color: #3498db;
    box-shadow: 0 2px 12px rgba(52,152,219,0.15);
  }

  .sentence-card.speaking {
    border-color: #e74c3c;
    box-shadow: 0 0 0 3px rgba(231,76,60,0.15);
  }

  .sentence-card .jp {
    font-family: 'Noto Sans JP', sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 4px;
    padding-right: 40px;
  }

  .sentence-card .kana {
    font-family: 'Noto Sans JP', sans-serif;
    font-size: 13px;
    color: #3498db;
    margin-bottom: 6px;
  }

  .sentence-card .cn {
    font-size: 14px;
    color: #666;
  }

  .sentence-card .sent-speak-btn {
    position: absolute;
    top: 14px;
    right: 14px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 1.5px solid #e0e0e0;
    background: white;
    color: #e74c3c;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }

  .sentence-card .sent-speak-btn:hover {
    background: #e74c3c;
    color: white;
    border-color: #e74c3c;
  }

  .sentence-card .sent-speak-btn.playing {
    background: #e74c3c;
    color: white;
    border-color: #e74c3c;
    animation: pulse-red 1s infinite;
  }

  @keyframes pulse-red {
    0% { box-shadow: 0 0 0 0 rgba(231,76,60,0.4); }
    70% { box-shadow: 0 0 0 8px rgba(231,76,60,0); }
    100% { box-shadow: 0 0 0 0 rgba(231,76,60,0); }
  }

  .legend {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 12px;
    color: #666;
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .audio-notice {
    background: #fff3cd;
    border: 1px solid #ffc107;
    border-radius: 8px;
    padding: 10px 16px;
    font-size: 13px;
    color: #856404;
    margin-bottom: 20px;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    line-height: 1.6;
  }

  .audio-notice strong { color: #664d03; }

  .autoplay-progress {
    max-width: 900px;
    margin: 0 auto 20px;
    background: white;
    border-radius: 10px;
    padding: 14px 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    display: none;
    align-items: center;
    gap: 14px;
  }

  .autoplay-progress.visible {
    display: flex;
  }

  .autoplay-progress .progress-text {
    font-size: 14px;
    color: #2c3e50;
    flex: 1;
  }

  .autoplay-progress .progress-text .current-word {
    font-family: 'Noto Sans JP', sans-serif;
    font-weight: 700;
    color: #3498db;
    font-size: 18px;
  }

  .autoplay-progress .progress-bar-wrapper {
    flex: 2;
    height: 8px;
    background: #e8e8e8;
    border-radius: 4px;
    overflow: hidden;
  }

  .autoplay-progress .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #3498db, #2ecc71);
    border-radius: 4px;
    transition: width 0.3s;
    width: 0%;
  }

  .autoplay-progress .stop-btn {
    padding: 6px 16px;
    border: 2px solid #e74c3c;
    background: white;
    color: #e74c3c;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
    font-family: inherit;
    font-weight: 600;
    transition: all 0.2s;
  }

  .autoplay-progress .stop-btn:hover {
    background: #e74c3c;
    color: white;
  }

  @media print {
    body { background: white; padding: 10px; font-size: 12px; }
    .no-print, .audio-notice, .autoplay-progress { display: none !important; }
    .scene-section, .sentence-section { margin-bottom: 20px; }
    .scene-title, .sentence-title {
      font-size: 16px; padding: 8px 12px;
      box-shadow: none; border: 1px solid #ccc;
      border-left: 4px solid #333; margin-bottom: 10px;
      background: #f5f5f5;
    }
    .scene-title .play-scene-btn { display: none !important; }
    .cards-grid { grid-template-columns: repeat(4, 1fr) !important; gap: 8px; }
    .cards-grid.size-large { grid-template-columns: repeat(3, 1fr) !important; }
    .card { box-shadow: none; border: 1.5px solid #999; border-radius: 6px; padding: 10px 8px; }
    .card:hover { transform: none; }
    .card .kanji { font-size: 22px; }
    .card .reading { font-size: 11px; }
    .card .meaning { font-size: 12px; }
    .card .tag { font-size: 8px; padding: 1px 5px; }
    .card .speak-btn { display: none !important; }
    .cards-grid.size-large .card .kanji { font-size: 26px; }
    .sentence-card { box-shadow: none; border: 1.5px solid #999; border-radius: 6px; padding: 10px 14px; }
    .sentence-card .jp { font-size: 13px; padding-right: 0; }
    .sentence-card .kana { font-size: 11px; }
    .sentence-card .cn { font-size: 11px; }
    .sentence-card .sent-speak-btn { display: none !important; }
    .scene-section, .sentence-section { page-break-inside: avoid; }
  }

  @media (max-width: 600px) {
    body { padding: 10px; }
    .cards-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .cards-grid.size-large { grid-template-columns: 1fr; }
    .card .kanji { font-size: 24px; }
    .controls button { padding: 8px 14px; font-size: 12px; }
    .no-print h1 { font-size: 22px; }
    .autoplay-progress { flex-direction: column; gap: 10px; }
    .autoplay-progress .progress-bar-wrapper { width: 100%; }
  }
</style>
</head>
<body>

<div class="no-print">
  <h1>ğŸ“š æ—¥è¯­N5åœºæ™¯åŒ–å•è¯å¡ç‰‡</h1>
  <p>æŒ‰åœºæ™¯åˆ†ç±» Â· å•è¯ + ä¾‹å¥ Â· ç‚¹å‡» ğŸ”Š æ’­æ”¾æ—¥è¯­å‘éŸ³ Â· ç‚¹å‡»"æ‰“å°å¡ç‰‡"å¯æ‰“å°è£å‰ª</p>

  <div class="audio-notice">
    <strong>ğŸ”Š å‘éŸ³åŠŸèƒ½è¯´æ˜ï¼š</strong>ä½¿ç”¨æµè§ˆå™¨å†…ç½®è¯­éŸ³åˆæˆï¼ˆWeb Speech APIï¼‰ã€‚ç‚¹å‡»å¡ç‰‡ä¸Šçš„ ğŸ”Š æŒ‰é’®å¯å•è¯å‘éŸ³ï¼Œç‚¹å‡»åœºæ™¯æ ‡é¢˜æ—çš„"â–¶ è¿ç»­æ’­æ”¾"å¯è‡ªåŠ¨æœ—è¯»è¯¥åœºæ™¯å…¨éƒ¨å•è¯ã€‚å»ºè®®ä½¿ç”¨ Chrome / Edge / Safari æµè§ˆå™¨ä»¥è·å¾—æœ€ä½³æ—¥è¯­å‘éŸ³æ•ˆæœã€‚
  </div>

  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:#3498db"></div>åè¯</div>
    <div class="legend-item"><div class="legend-dot" style="background:#e74c3c"></div>åŠ¨è¯</div>
    <div class="legend-item"><div class="legend-dot" style="background:#2ecc71"></div>å½¢å®¹è¯</div>
    <div class="legend-item"><div class="legend-dot" style="background:#9b59b6"></div>å‰¯è¯</div>
    <div class="legend-item"><div class="legend-dot" style="background:#f39c12"></div>çŸ­è¯­</div>
    <div class="legend-item"><div class="legend-dot" style="background:#1abc9c"></div>æ•°é‡</div>
  </div>

  <div class="card-size-toggle">
    <span>å¡ç‰‡å¤§å°ï¼š</span>
    <button class="active" onclick="setSize('normal')">æ ‡å‡†</button>
    <button onclick="setSize('large')">å¤§å¡ç‰‡</button>
  </div>

  <div class="speed-toggle">
    <span>è¯­é€Ÿï¼š</span>
    <button onclick="setSpeed(0.6, this)">æ…¢é€Ÿ</button>
    <button class="active" onclick="setSpeed(0.85, this)">æ­£å¸¸</button>
    <button onclick="setSpeed(1.1, this)">å¿«é€Ÿ</button>
  </div>

  <div class="controls" id="sceneButtons">
    <button class="active" data-scene="all" onclick="filterScene('all', this)">å…¨éƒ¨åœºæ™¯</button>
  </div>

  <div class="controls">
    <button onclick="toggleSentences()">æ˜¾ç¤º/éšè—ä¾‹å¥</button>
    <button class="audio-all-btn" onclick="playAllVisible()">ğŸ”Š è¿ç»­æ’­æ”¾å…¨éƒ¨</button>
    <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ æ‰“å°å¡ç‰‡</button>
  </div>
</div>

<div class="autoplay-progress" id="autoplayBar">
  <div class="progress-text">
    æ­£åœ¨æ’­æ”¾: <span class="current-word" id="currentWord">â€”</span>
  </div>
  <div class="progress-bar-wrapper">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  <button class="stop-btn" onclick="stopAutoPlay()">â¹ åœæ­¢</button>
</div>

<div id="content"></div>

<script>
const scenes = [
  {
    id: "traffic", icon: "âœˆï¸", name: "æœºåœºä¸äº¤é€šå‡ºè¡Œ", color: "#3498db",
    words: [
      { k: "é£›è¡Œæ©Ÿ", r: "ã²ã“ã†ã", m: "é£æœº", t: "noun" },
      { k: "é›»è»Š", r: "ã§ã‚“ã—ã‚ƒ", m: "ç”µè½¦", t: "noun" },
      { k: "ãƒã‚¹", r: "ãƒã‚¹", m: "å…¬äº¤è½¦", t: "noun" },
      { k: "ã‚¿ã‚¯ã‚·ãƒ¼", r: "ã‚¿ã‚¯ã‚·ãƒ¼", m: "å‡ºç§Ÿè½¦", t: "noun" },
      { k: "è»Š", r: "ãã‚‹ã¾", m: "æ±½è½¦", t: "noun" },
      { k: "è‡ªè»¢è»Š", r: "ã˜ã¦ã‚“ã—ã‚ƒ", m: "è‡ªè¡Œè½¦", t: "noun" },
      { k: "é§…", r: "ãˆã", m: "è½¦ç«™", t: "noun" },
      { k: "åˆ‡ç¬¦", r: "ãã£ã·", m: "ç¥¨", t: "noun" },
      { k: "å‡ºå£", r: "ã§ãã¡", m: "å‡ºå£", t: "noun" },
      { k: "å…¥å£", r: "ã„ã‚Šãã¡", m: "å…¥å£", t: "noun" },
      { k: "åœ°å›³", r: "ã¡ãš", m: "åœ°å›¾", t: "noun" },
      { k: "ä¹—ã‚Šã¾ã™", r: "ã®ã‚Šã¾ã™", m: "ä¹˜å", t: "verb" },
      { k: "é™ã‚Šã¾ã™", r: "ãŠã‚Šã¾ã™", m: "ä¸‹è½¦", t: "verb" },
      { k: "è¡Œãã¾ã™", r: "ã„ãã¾ã™", m: "å»", t: "verb" },
      { k: "æ¥ã¾ã™", r: "ãã¾ã™", m: "æ¥", t: "verb" },
      { k: "å¸°ã‚Šã¾ã™", r: "ã‹ãˆã‚Šã¾ã™", m: "å›å»", t: "verb" },
      { k: "ç€ãã¾ã™", r: "ã¤ãã¾ã™", m: "åˆ°è¾¾", t: "verb" },
      { k: "é ã„", r: "ã¨ãŠã„", m: "è¿œçš„", t: "adj" },
      { k: "è¿‘ã„", r: "ã¡ã‹ã„", m: "è¿‘çš„", t: "adj" },
      { k: "æ—©ã„", r: "ã¯ã‚„ã„", m: "å¿«çš„/æ—©çš„", t: "adj" },
      { k: "é…ã„", r: "ãŠãã„", m: "æ…¢çš„/æ™šçš„", t: "adj" },
    ],
    sentences: [
      { jp: "æ±äº¬é§…ã¾ã§åˆ‡ç¬¦ã‚’ä¸€æšãã ã•ã„ã€‚", kana: "ã¨ã†ãã‚‡ã†ãˆãã¾ã§ ãã£ã·ã‚’ ã„ã¡ã¾ã„ ãã ã•ã„ã€‚", cn: "è¯·ç»™æˆ‘ä¸€å¼ åˆ°ä¸œäº¬ç«™çš„ç¥¨ã€‚" },
      { jp: "ã“ã®é›»è»Šã¯ç©ºæ¸¯ã¸è¡Œãã¾ã™ã‹ã€‚", kana: "ã“ã®ã§ã‚“ã—ã‚ƒã¯ ãã†ã“ã†ã¸ ã„ãã¾ã™ã‹ã€‚", cn: "è¿™è¶Ÿç”µè½¦å»æœºåœºå—ï¼Ÿ" },
      { jp: "æ¬¡ã®é§…ã§é™ã‚Šã¾ã™ã€‚", kana: "ã¤ãã®ãˆãã§ ãŠã‚Šã¾ã™ã€‚", cn: "æˆ‘åœ¨ä¸‹ä¸€ç«™ä¸‹è½¦ã€‚" },
      { jp: "æ¯æœã€è‡ªè»¢è»Šã§ä¼šç¤¾ã¸è¡Œãã¾ã™ã€‚", kana: "ã¾ã„ã‚ã•ã€ã˜ã¦ã‚“ã—ã‚ƒã§ ã‹ã„ã—ã‚ƒã¸ ã„ãã¾ã™ã€‚", cn: "æ¯å¤©æ—©ä¸Šéª‘è‡ªè¡Œè½¦å»å…¬å¸ã€‚" },
    ]
  },
  {
    id: "hotel", icon: "ğŸ¨", name: "é…’åº—ä½å®¿", color: "#9b59b6",
    words: [
      { k: "ãƒ›ãƒ†ãƒ«", r: "ãƒ›ãƒ†ãƒ«", m: "é…’åº—", t: "noun" },
      { k: "éƒ¨å±‹", r: "ã¸ã‚„", m: "æˆ¿é—´", t: "noun" },
      { k: "éµ", r: "ã‹ã", m: "é’¥åŒ™", t: "noun" },
      { k: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", r: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", m: "ç”µæ¢¯", t: "noun" },
      { k: "ãŠæ‰‹æ´—ã„", r: "ãŠã¦ã‚ã‚‰ã„", m: "æ´—æ‰‹é—´", t: "noun" },
      { k: "ãŠé¢¨å‘‚", r: "ãŠãµã‚", m: "æµ´å®¤", t: "noun" },
      { k: "ãƒ™ãƒƒãƒ‰", r: "ãƒ™ãƒƒãƒ‰", m: "åºŠ", t: "noun" },
      { k: "çª“", r: "ã¾ã©", m: "çª—æˆ·", t: "noun" },
      { k: "ãƒ‰ã‚¢", r: "ãƒ‰ã‚¢", m: "é—¨", t: "noun" },
      { k: "ä¸€æ³Š", r: "ã„ã£ã±ã", m: "ä½ä¸€æ™š", t: "noun" },
      { k: "äºˆç´„", r: "ã‚ˆã‚„ã", m: "é¢„çº¦", t: "noun" },
      { k: "åºƒã„", r: "ã²ã‚ã„", m: "å®½æ•çš„", t: "adj" },
      { k: "ç‹­ã„", r: "ã›ã¾ã„", m: "ç‹­çª„çš„", t: "adj" },
      { k: "ç¶ºéº—", r: "ãã‚Œã„", m: "å¹²å‡€çš„/æ¼‚äº®çš„", t: "adj" },
      { k: "é™ã‹", r: "ã—ãšã‹", m: "å®‰é™çš„", t: "adj" },
    ],
    sentences: [
      { jp: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", kana: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã‚’ ãŠã­ãŒã„ã—ã¾ã™ã€‚", cn: "è¯·å¸®æˆ‘åŠç†å…¥ä½ã€‚" },
      { jp: "éƒ¨å±‹ã¯é™ã‹ã§ã€ã¨ã¦ã‚‚ç¶ºéº—ã§ã™ã€‚", kana: "ã¸ã‚„ã¯ ã—ãšã‹ã§ã€ã¨ã¦ã‚‚ ãã‚Œã„ã§ã™ã€‚", cn: "æˆ¿é—´å¾ˆå®‰é™ï¼Œéå¸¸å¹²å‡€ã€‚" },
      { jp: "ã™ã¿ã¾ã›ã‚“ã€éµã‚’ãªãã—ã¾ã—ãŸã€‚", kana: "ã™ã¿ã¾ã›ã‚“ã€ã‹ãã‚’ ãªãã—ã¾ã—ãŸã€‚", cn: "ä¸å¥½æ„æ€ï¼Œé’¥åŒ™å¼„ä¸¢äº†ã€‚" },
      { jp: "ä¸€æ³Šã„ãã‚‰ã§ã™ã‹ã€‚", kana: "ã„ã£ã±ã ã„ãã‚‰ã§ã™ã‹ã€‚", cn: "ä½ä¸€æ™šå¤šå°‘é’±ï¼Ÿ" },
    ]
  },
  {
    id: "restaurant", icon: "ğŸ½ï¸", name: "é¤å…ç‚¹é¤", color: "#e67e22",
    words: [
      { k: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³", r: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³", m: "é¤å…", t: "noun" },
      { k: "é£Ÿå ‚", r: "ã—ã‚‡ãã©ã†", m: "é£Ÿå ‚", t: "noun" },
      { k: "ã”é£¯", r: "ã”ã¯ã‚“", m: "ç±³é¥­/é¥­", t: "noun" },
      { k: "ãƒ‘ãƒ³", r: "ãƒ‘ãƒ³", m: "é¢åŒ…", t: "noun" },
      { k: "è‚‰", r: "ã«ã", m: "è‚‰", t: "noun" },
      { k: "é­š", r: "ã•ã‹ãª", m: "é±¼", t: "noun" },
      { k: "é‡èœ", r: "ã‚„ã•ã„", m: "è”¬èœ", t: "noun" },
      { k: "æœç‰©", r: "ãã ã‚‚ã®", m: "æ°´æœ", t: "noun" },
      { k: "åµ", r: "ãŸã¾ã”", m: "é¸¡è›‹", t: "noun" },
      { k: "æ°´", r: "ã¿ãš", m: "æ°´", t: "noun" },
      { k: "ãŠèŒ¶", r: "ãŠã¡ã‚ƒ", m: "èŒ¶", t: "noun" },
      { k: "ã‚³ãƒ¼ãƒ’ãƒ¼", r: "ã‚³ãƒ¼ãƒ’ãƒ¼", m: "å’–å•¡", t: "noun" },
      { k: "ç‰›ä¹³", r: "ãã‚…ã†ã«ã‚…ã†", m: "ç‰›å¥¶", t: "noun" },
      { k: "ãŠé…’", r: "ãŠã•ã‘", m: "é…’", t: "noun" },
      { k: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼", r: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼", m: "èœå•", t: "noun" },
      { k: "é£Ÿã¹ã¾ã™", r: "ãŸã¹ã¾ã™", m: "åƒ", t: "verb" },
      { k: "é£²ã¿ã¾ã™", r: "ã®ã¿ã¾ã™", m: "å–", t: "verb" },
      { k: "ç¾å‘³ã—ã„", r: "ãŠã„ã—ã„", m: "å¥½åƒçš„", t: "adj" },
      { k: "ç”˜ã„", r: "ã‚ã¾ã„", m: "ç”œçš„", t: "adj" },
      { k: "è¾›ã„", r: "ã‹ã‚‰ã„", m: "è¾£çš„", t: "adj" },
      { k: "ç†±ã„", r: "ã‚ã¤ã„", m: "çƒ«çš„", t: "adj" },
      { k: "å†·ãŸã„", r: "ã¤ã‚ãŸã„", m: "å‡‰çš„", t: "adj" },
      { k: "é«˜ã„", r: "ãŸã‹ã„", m: "è´µçš„", t: "adj" },
      { k: "å®‰ã„", r: "ã‚„ã™ã„", m: "ä¾¿å®œçš„", t: "adj" },
    ],
    sentences: [
      { jp: "ã™ã¿ã¾ã›ã‚“ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãã ã•ã„ã€‚", kana: "ã™ã¿ã¾ã›ã‚“ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ ãã ã•ã„ã€‚", cn: "è¯·ç»™æˆ‘èœå•ã€‚" },
      { jp: "ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ä¸€ã¤ãŠé¡˜ã„ã—ã¾ã™ã€‚", kana: "ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ ã²ã¨ã¤ ãŠã­ãŒã„ã—ã¾ã™ã€‚", cn: "è¯·ç»™æˆ‘ä¸€æ¯å’–å•¡ã€‚" },
      { jp: "ã“ã®æ–™ç†ã¯ã¨ã¦ã‚‚ç¾å‘³ã—ã„ã§ã™ã€‚", kana: "ã“ã®ã‚Šã‚‡ã†ã‚Šã¯ ã¨ã¦ã‚‚ ãŠã„ã—ã„ã§ã™ã€‚", cn: "è¿™é“èœéå¸¸å¥½åƒã€‚" },
      { jp: "ãŠä¼šè¨ˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚", kana: "ãŠã‹ã„ã‘ã„ã‚’ ãŠã­ãŒã„ã—ã¾ã™ã€‚", cn: "è¯·ç»“è´¦ã€‚" },
      { jp: "æ¯æœãƒ‘ãƒ³ã¨ç‰›ä¹³ã‚’é£Ÿã¹ã¾ã™ã€‚", kana: "ã¾ã„ã‚ã• ãƒ‘ãƒ³ã¨ ãã‚…ã†ã«ã‚…ã†ã‚’ ãŸã¹ã¾ã™ã€‚", cn: "æ¯å¤©æ—©ä¸Šåƒé¢åŒ…å–ç‰›å¥¶ã€‚" },
    ]
  },
  {
    id: "shopping", icon: "ğŸ›ï¸", name: "è´­ç‰©", color: "#e74c3c",
    words: [
      { k: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", r: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", m: "ç™¾è´§å•†åº—", t: "noun" },
      { k: "ãŠåº—", r: "ãŠã¿ã›", m: "å•†åº—", t: "noun" },
      { k: "ãŠåœŸç”£", r: "ãŠã¿ã‚„ã’", m: "ä¼´æ‰‹ç¤¼", t: "noun" },
      { k: "è²·ã„ç‰©", r: "ã‹ã„ã‚‚ã®", m: "è´­ç‰©", t: "noun" },
      { k: "ãŠé‡‘", r: "ãŠã‹ã­", m: "é’±", t: "noun" },
      { k: "è²¡å¸ƒ", r: "ã•ã„ãµ", m: "é’±åŒ…", t: "noun" },
      { k: "è‰²", r: "ã„ã‚", m: "é¢œè‰²", t: "noun" },
      { k: "è²·ã„ã¾ã™", r: "ã‹ã„ã¾ã™", m: "ä¹°", t: "verb" },
      { k: "å£²ã‚Šã¾ã™", r: "ã†ã‚Šã¾ã™", m: "å–", t: "verb" },
      { k: "å¤§ãã„", r: "ãŠãŠãã„", m: "å¤§çš„", t: "adj" },
      { k: "å°ã•ã„", r: "ã¡ã„ã•ã„", m: "å°çš„", t: "adj" },
      { k: "é•·ã„", r: "ãªãŒã„", m: "é•¿çš„", t: "adj" },
      { k: "çŸ­ã„", r: "ã¿ã˜ã‹ã„", m: "çŸ­çš„", t: "adj" },
      { k: "æ–°ã—ã„", r: "ã‚ãŸã‚‰ã—ã„", m: "æ–°çš„", t: "adj" },
      { k: "å¤ã„", r: "ãµã‚‹ã„", m: "æ—§çš„", t: "adj" },
      { k: "ç™½ã„", r: "ã—ã‚ã„", m: "ç™½çš„", t: "adj" },
      { k: "é»’ã„", r: "ãã‚ã„", m: "é»‘çš„", t: "adj" },
      { k: "èµ¤ã„", r: "ã‚ã‹ã„", m: "çº¢çš„", t: "adj" },
      { k: "é’ã„", r: "ã‚ãŠã„", m: "è“çš„", t: "adj" },
      { k: "é‡ã„", r: "ãŠã‚‚ã„", m: "é‡çš„", t: "adj" },
      { k: "è»½ã„", r: "ã‹ã‚‹ã„", m: "è½»çš„", t: "adj" },
      { k: "ã„ãã‚‰", r: "ã„ãã‚‰", m: "å¤šå°‘é’±", t: "phrase" },
    ],
    sentences: [
      { jp: "ã™ã¿ã¾ã›ã‚“ã€ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹ã€‚", kana: "ã™ã¿ã¾ã›ã‚“ã€ã“ã‚Œã¯ ã„ãã‚‰ã§ã™ã‹ã€‚", cn: "è¯·é—®ï¼Œè¿™ä¸ªå¤šå°‘é’±ï¼Ÿ" },
      { jp: "ã‚‚ã†å°‘ã—å®‰ã„ã®ã¯ã‚ã‚Šã¾ã™ã‹ã€‚", kana: "ã‚‚ã†ã™ã“ã— ã‚„ã™ã„ã®ã¯ ã‚ã‚Šã¾ã™ã‹ã€‚", cn: "æœ‰ä¾¿å®œä¸€ç‚¹çš„å—ï¼Ÿ" },
      { jp: "ã“ã®é’ã„ã®ã‚’ãã ã•ã„ã€‚", kana: "ã“ã®ã‚ãŠã„ã®ã‚’ ãã ã•ã„ã€‚", cn: "è¯·ç»™æˆ‘è¿™ä¸ªè“è‰²çš„ã€‚" },
      { jp: "å¤§ãã„ã‚µã‚¤ã‚ºã¯ã‚ã‚Šã¾ã™ã‹ã€‚", kana: "ãŠãŠãã„ã‚µã‚¤ã‚ºã¯ ã‚ã‚Šã¾ã™ã‹ã€‚", cn: "æœ‰å¤§å·çš„å—ï¼Ÿ" },
      { jp: "å‹é”ã«ãŠåœŸç”£ã‚’è²·ã„ã¾ã—ãŸã€‚", kana: "ã¨ã‚‚ã ã¡ã« ãŠã¿ã‚„ã’ã‚’ ã‹ã„ã¾ã—ãŸã€‚", cn: "ç»™æœ‹å‹ä¹°äº†ä¼´æ‰‹ç¤¼ã€‚" },
    ]
  },
  {
    id: "direction", icon: "ğŸ§­", name: "é—®è·¯ä¸æ–¹å‘", color: "#27ae60",
    words: [
      { k: "å³", r: "ã¿ã", m: "å³", t: "noun" },
      { k: "å·¦", r: "ã²ã ã‚Š", m: "å·¦", t: "noun" },
      { k: "å‰", r: "ã¾ãˆ", m: "å‰", t: "noun" },
      { k: "å¾Œã‚", r: "ã†ã—ã‚", m: "å", t: "noun" },
      { k: "ä¸Š", r: "ã†ãˆ", m: "ä¸Š", t: "noun" },
      { k: "ä¸‹", r: "ã—ãŸ", m: "ä¸‹", t: "noun" },
      { k: "éš£", r: "ã¨ãªã‚Š", m: "æ—è¾¹", t: "noun" },
      { k: "è¿‘ã", r: "ã¡ã‹ã", m: "é™„è¿‘", t: "noun" },
      { k: "ä¸­", r: "ãªã‹", m: "é‡Œé¢", t: "noun" },
      { k: "å¤–", r: "ãã¨", m: "å¤–é¢", t: "noun" },
      { k: "ä¿¡å·", r: "ã—ã‚“ã”ã†", m: "çº¢ç»¿ç¯", t: "noun" },
      { k: "æ©‹", r: "ã¯ã—", m: "æ¡¥", t: "noun" },
      { k: "äº¤ç•ª", r: "ã“ã†ã°ã‚“", m: "æ´¾å‡ºæ‰€", t: "noun" },
      { k: "ã‚³ãƒ³ãƒ“ãƒ‹", r: "ã‚³ãƒ³ãƒ“ãƒ‹", m: "ä¾¿åˆ©åº—", t: "noun" },
      { k: "ã¾ã£ã™ã", r: "ã¾ã£ã™ã", m: "ç›´èµ°", t: "adv" },
      { k: "æ›²ãŒã‚Šã¾ã™", r: "ã¾ãŒã‚Šã¾ã™", m: "è½¬å¼¯", t: "verb" },
      { k: "æ¸¡ã‚Šã¾ã™", r: "ã‚ãŸã‚Šã¾ã™", m: "è¿‡ï¼ˆé©¬è·¯ï¼‰", t: "verb" },
    ],
    sentences: [
      { jp: "ã™ã¿ã¾ã›ã‚“ã€é§…ã¯ã©ã“ã§ã™ã‹ã€‚", kana: "ã™ã¿ã¾ã›ã‚“ã€ãˆãã¯ ã©ã“ã§ã™ã‹ã€‚", cn: "è¯·é—®ï¼Œè½¦ç«™åœ¨å“ªé‡Œï¼Ÿ" },
      { jp: "ã¾ã£ã™ãè¡Œã£ã¦ã€å³ã«æ›²ãŒã£ã¦ãã ã•ã„ã€‚", kana: "ã¾ã£ã™ãã„ã£ã¦ã€ã¿ãã« ã¾ãŒã£ã¦ãã ã•ã„ã€‚", cn: "è¯·ç›´èµ°ï¼Œç„¶åå³è½¬ã€‚" },
      { jp: "ã“ã®è¿‘ãã«ã‚³ãƒ³ãƒ“ãƒ‹ã¯ã‚ã‚Šã¾ã™ã‹ã€‚", kana: "ã“ã®ã¡ã‹ãã« ã‚³ãƒ³ãƒ“ãƒ‹ã¯ ã‚ã‚Šã¾ã™ã‹ã€‚", cn: "è¿™é™„è¿‘æœ‰ä¾¿åˆ©åº—å—ï¼Ÿ" },
      { jp: "éƒµä¾¿å±€ã¯éŠ€è¡Œã®éš£ã§ã™ã€‚", kana: "ã‚†ã†ã³ã‚“ãã‚‡ãã¯ ãã‚“ã“ã†ã® ã¨ãªã‚Šã§ã™ã€‚", cn: "é‚®å±€åœ¨é“¶è¡Œæ—è¾¹ã€‚" },
    ]
  },
  {
    id: "social", icon: "ğŸ¤", name: "è‡ªæˆ‘ä»‹ç»ä¸ç¤¾äº¤", color: "#f39c12",
    words: [
      { k: "åå‰", r: "ãªã¾ãˆ", m: "åå­—", t: "noun" },
      { k: "å›½", r: "ãã«", m: "å›½å®¶", t: "noun" },
      { k: "è¨€è‘‰", r: "ã“ã¨ã°", m: "è¯­è¨€", t: "noun" },
      { k: "ä»•äº‹", r: "ã—ã”ã¨", m: "å·¥ä½œ", t: "noun" },
      { k: "å­¦ç”Ÿ", r: "ãŒãã›ã„", m: "å­¦ç”Ÿ", t: "noun" },
      { k: "å…ˆç”Ÿ", r: "ã›ã‚“ã›ã„", m: "è€å¸ˆ", t: "noun" },
      { k: "ä¼šç¤¾å“¡", r: "ã‹ã„ã—ã‚ƒã„ã‚“", m: "å…¬å¸èŒå‘˜", t: "noun" },
      { k: "å‹é”", r: "ã¨ã‚‚ã ã¡", m: "æœ‹å‹", t: "noun" },
      { k: "è¶£å‘³", r: "ã—ã‚…ã¿", m: "å…´è¶£çˆ±å¥½", t: "noun" },
      { k: "æ­³", r: "ã•ã„", m: "å²", t: "num" },
      { k: "è©±ã—ã¾ã™", r: "ã¯ãªã—ã¾ã™", m: "è¯´", t: "verb" },
      { k: "ä¼šã„ã¾ã™", r: "ã‚ã„ã¾ã™", m: "è§é¢", t: "verb" },
      { k: "åˆ†ã‹ã‚Šã¾ã™", r: "ã‚ã‹ã‚Šã¾ã™", m: "æ˜ç™½/æ‡‚", t: "verb" },
      { k: "å¥½ã", r: "ã™ã", m: "å–œæ¬¢çš„", t: "adj" },
      { k: "å«Œã„", r: "ãã‚‰ã„", m: "è®¨åŒçš„", t: "adj" },
      { k: "ä¸Šæ‰‹", r: "ã˜ã‚‡ã†ãš", m: "æ“…é•¿çš„", t: "adj" },
      { k: "ä¸‹æ‰‹", r: "ã¸ãŸ", m: "ä¸æ“…é•¿çš„", t: "adj" },
    ],
    sentences: [
      { jp: "ã¯ã˜ã‚ã¾ã—ã¦ã€æã¨ç”³ã—ã¾ã™ã€‚ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸã€‚", kana: "ã¯ã˜ã‚ã¾ã—ã¦ã€ã‚Šã¨ ã‚‚ã†ã—ã¾ã™ã€‚ã¡ã‚…ã†ã”ãã‹ã‚‰ ãã¾ã—ãŸã€‚", cn: "åˆæ¬¡è§é¢ï¼Œæˆ‘å§“æï¼Œä»ä¸­å›½æ¥ã€‚" },
      { jp: "æ—¥æœ¬èªãŒå°‘ã—åˆ†ã‹ã‚Šã¾ã™ã€‚", kana: "ã«ã»ã‚“ã”ãŒ ã™ã“ã— ã‚ã‹ã‚Šã¾ã™ã€‚", cn: "æˆ‘æ‡‚ä¸€ç‚¹æ—¥è¯­ã€‚" },
      { jp: "è¶£å‘³ã¯éŸ³æ¥½ã‚’èãã“ã¨ã§ã™ã€‚", kana: "ã—ã‚…ã¿ã¯ ãŠã‚“ãŒãã‚’ ããã“ã¨ã§ã™ã€‚", cn: "æˆ‘çš„å…´è¶£æ˜¯å¬éŸ³ä¹ã€‚" },
      { jp: "å±±ç”°ã•ã‚“ã¯æ–™ç†ãŒä¸Šæ‰‹ã§ã™ã€‚", kana: "ã‚„ã¾ã ã•ã‚“ã¯ ã‚Šã‚‡ã†ã‚ŠãŒ ã˜ã‚‡ã†ãšã§ã™ã€‚", cn: "å±±ç”°å…ˆç”Ÿå¾ˆæ“…é•¿åšé¥­ã€‚" },
    ]
  },
  {
    id: "daily", icon: "ğŸ ", name: "æ—¥å¸¸èµ·å±…", color: "#16a085",
    words: [
      { k: "å®¶", r: "ã„ãˆ / ã†ã¡", m: "å®¶", t: "noun" },
      { k: "æœ", r: "ã‚ã•", m: "æ—©ä¸Š", t: "noun" },
      { k: "æ˜¼", r: "ã²ã‚‹", m: "ä¸­åˆ", t: "noun" },
      { k: "å¤œ", r: "ã‚ˆã‚‹", m: "æ™šä¸Š", t: "noun" },
      { k: "èµ·ãã¾ã™", r: "ãŠãã¾ã™", m: "èµ·åºŠ", t: "verb" },
      { k: "å¯ã¾ã™", r: "ã­ã¾ã™", m: "ç¡è§‰", t: "verb" },
      { k: "æ´—ã„ã¾ã™", r: "ã‚ã‚‰ã„ã¾ã™", m: "æ´—", t: "verb" },
      { k: "ä¼‘ã¿ã¾ã™", r: "ã‚„ã™ã¿ã¾ã™", m: "ä¼‘æ¯", t: "verb" },
      { k: "å‡ºã‹ã‘ã¾ã™", r: "ã§ã‹ã‘ã¾ã™", m: "å‡ºé—¨", t: "verb" },
      { k: "ä½œã‚Šã¾ã™", r: "ã¤ãã‚Šã¾ã™", m: "åš/åˆ¶ä½œ", t: "verb" },
      { k: "æƒé™¤ã—ã¾ã™", r: "ãã†ã˜ã—ã¾ã™", m: "æ‰“æ‰«", t: "verb" },
      { k: "æ´—æ¿¯ã—ã¾ã™", r: "ã›ã‚“ãŸãã—ã¾ã™", m: "æ´—è¡£æœ", t: "verb" },
      { k: "æ•£æ­©ã—ã¾ã™", r: "ã•ã‚“ã½ã—ã¾ã™", m: "æ•£æ­¥", t: "verb" },
      { k: "ã‚·ãƒ£ãƒ¯ãƒ¼", r: "ã‚·ãƒ£ãƒ¯ãƒ¼", m: "æ·‹æµ´", t: "noun" },
      { k: "å¿™ã—ã„", r: "ã„ããŒã—ã„", m: "å¿™çš„", t: "adj" },
      { k: "æš‡", r: "ã²ã¾", m: "é—²çš„", t: "adj" },
      { k: "ã„ã¤ã‚‚", r: "ã„ã¤ã‚‚", m: "æ€»æ˜¯", t: "adv" },
      { k: "æ™‚ã€…", r: "ã¨ãã©ã", m: "æœ‰æ—¶", t: "adv" },
      { k: "ã‚†ã£ãã‚Š", r: "ã‚†ã£ãã‚Š", m: "æ…¢æ…¢åœ°", t: "adv" },
    ],
    sentences: [
      { jp: "æ¯æœå…­æ™‚ã«èµ·ãã¦ã€ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’æµ´ã³ã¾ã™ã€‚", kana: "ã¾ã„ã‚ã• ã‚ãã˜ã« ãŠãã¦ã€ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’ ã‚ã³ã¾ã™ã€‚", cn: "æ¯å¤©æ—©ä¸Šå…­ç‚¹èµ·åºŠæ´—æ¾¡ã€‚" },
      { jp: "æœã”é£¯ã‚’é£Ÿã¹ã¦ã€å…«æ™‚ã«å‡ºã‹ã‘ã¾ã™ã€‚", kana: "ã‚ã•ã”ã¯ã‚“ã‚’ ãŸã¹ã¦ã€ã¯ã¡ã˜ã« ã§ã‹ã‘ã¾ã™ã€‚", cn: "åƒå®Œæ—©é¥­ï¼Œå…«ç‚¹å‡ºé—¨ã€‚" },
      { jp: "å¤œã¯ãƒ†ãƒ¬ãƒ“ã‚’è¦‹ã¦ã€åä¸€æ™‚ã«å¯ã¾ã™ã€‚", kana: "ã‚ˆã‚‹ã¯ ãƒ†ãƒ¬ãƒ“ã‚’ ã¿ã¦ã€ã˜ã‚…ã†ã„ã¡ã˜ã« ã­ã¾ã™ã€‚", cn: "æ™šä¸Šçœ‹ç”µè§†ï¼Œåä¸€ç‚¹ç¡è§‰ã€‚" },
      { jp: "é€±æœ«ã¯ã‚†ã£ãã‚Šä¼‘ã¿ã¾ã™ã€‚", kana: "ã—ã‚…ã†ã¾ã¤ã¯ ã‚†ã£ãã‚Š ã‚„ã™ã¿ã¾ã™ã€‚", cn: "å‘¨æœ«å¥½å¥½ä¼‘æ¯ã€‚" },
      { jp: "æ—¥æ›œæ—¥ã«éƒ¨å±‹ã‚’æƒé™¤ã—ã¦ã€æ´—æ¿¯ã‚’ã—ã¾ã™ã€‚", kana: "ã«ã¡ã‚ˆã†ã³ã« ã¸ã‚„ã‚’ ãã†ã˜ã—ã¦ã€ã›ã‚“ãŸãã‚’ ã—ã¾ã™ã€‚", cn: "æ˜ŸæœŸå¤©æ‰“æ‰«æˆ¿é—´ã€æ´—è¡£æœã€‚" },
    ]
  },
  {
    id: "school", icon: "ğŸ“š", name: "å­¦æ ¡ä¸å·¥ä½œ", color: "#2980b9",
    words: [
      { k: "å­¦æ ¡", r: "ãŒã£ã“ã†", m: "å­¦æ ¡", t: "noun" },
      { k: "å¤§å­¦", r: "ã ã„ãŒã", m: "å¤§å­¦", t: "noun" },
      { k: "æ•™å®¤", r: "ãã‚‡ã†ã—ã¤", m: "æ•™å®¤", t: "noun" },
      { k: "ä¼šç¤¾", r: "ã‹ã„ã—ã‚ƒ", m: "å…¬å¸", t: "noun" },
      { k: "æˆæ¥­", r: "ã˜ã‚…ãã‚‡ã†", m: "è¯¾", t: "noun" },
      { k: "å®¿é¡Œ", r: "ã—ã‚…ãã ã„", m: "ä½œä¸š", t: "noun" },
      { k: "æœ¬", r: "ã»ã‚“", m: "ä¹¦", t: "noun" },
      { k: "ãƒãƒ¼ãƒˆ", r: "ãƒãƒ¼ãƒˆ", m: "ç¬”è®°æœ¬", t: "noun" },
      { k: "é‰›ç­†", r: "ãˆã‚“ã´ã¤", m: "é“…ç¬”", t: "noun" },
      { k: "ãƒšãƒ³", r: "ãƒšãƒ³", m: "ç¬”", t: "noun" },
      { k: "è¾æ›¸", r: "ã˜ã—ã‚‡", m: "è¯å…¸", t: "noun" },
      { k: "å‹‰å¼·ã—ã¾ã™", r: "ã¹ã‚“ãã‚‡ã†ã—ã¾ã™", m: "å­¦ä¹ ", t: "verb" },
      { k: "ç¿’ã„ã¾ã™", r: "ãªã‚‰ã„ã¾ã™", m: "å­¦ï¼ˆè·Ÿè€å¸ˆï¼‰", t: "verb" },
      { k: "æ•™ãˆã¾ã™", r: "ãŠã—ãˆã¾ã™", m: "æ•™/å‘Šè¯‰", t: "verb" },
      { k: "èª­ã¿ã¾ã™", r: "ã‚ˆã¿ã¾ã™", m: "è¯»", t: "verb" },
      { k: "æ›¸ãã¾ã™", r: "ã‹ãã¾ã™", m: "å†™", t: "verb" },
      { k: "åƒãã¾ã™", r: "ã¯ãŸã‚‰ãã¾ã™", m: "å·¥ä½œ", t: "verb" },
      { k: "é›£ã—ã„", r: "ã‚€ãšã‹ã—ã„", m: "éš¾çš„", t: "adj" },
      { k: "æ˜“ã—ã„", r: "ã‚„ã•ã—ã„", m: "ç®€å•çš„", t: "adj" },
      { k: "é¢ç™½ã„", r: "ãŠã‚‚ã—ã‚ã„", m: "æœ‰è¶£çš„", t: "adj" },
      { k: "å¤§å¤‰", r: "ãŸã„ã¸ã‚“", m: "è¾›è‹¦çš„", t: "adj" },
      { k: "ç°¡å˜", r: "ã‹ã‚“ãŸã‚“", m: "ç®€å•çš„", t: "adj" },
    ],
    sentences: [
      { jp: "æ¯æ—¥å¤§å­¦ã§æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚", kana: "ã¾ã„ã«ã¡ ã ã„ãŒãã§ ã«ã»ã‚“ã”ã‚’ ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™ã€‚", cn: "æ¯å¤©åœ¨å¤§å­¦å­¦ä¹ æ—¥è¯­ã€‚" },
      { jp: "ã“ã®æœ¬ã¯å°‘ã—é›£ã—ã„ã§ã™ãŒã€é¢ç™½ã„ã§ã™ã€‚", kana: "ã“ã®ã»ã‚“ã¯ ã™ã“ã— ã‚€ãšã‹ã—ã„ã§ã™ãŒã€ãŠã‚‚ã—ã‚ã„ã§ã™ã€‚", cn: "è¿™æœ¬ä¹¦æœ‰ç‚¹éš¾ï¼Œä½†å¾ˆæœ‰è¶£ã€‚" },
      { jp: "å®¿é¡ŒãŒãŸãã•ã‚“ã‚ã£ã¦ã€å¤§å¤‰ã§ã™ã€‚", kana: "ã—ã‚…ãã ã„ãŒ ãŸãã•ã‚“ã‚ã£ã¦ã€ãŸã„ã¸ã‚“ã§ã™ã€‚", cn: "ä½œä¸šå¾ˆå¤šï¼Œå¥½è¾›è‹¦ã€‚" },
      { jp: "çˆ¶ã¯éŠ€è¡Œã§åƒã„ã¦ã„ã¾ã™ã€‚", kana: "ã¡ã¡ã¯ ãã‚“ã“ã†ã§ ã¯ãŸã‚‰ã„ã¦ã„ã¾ã™ã€‚", cn: "æˆ‘çˆ¸çˆ¸åœ¨é“¶è¡Œå·¥ä½œã€‚" },
    ]
  },
  {
    id: "health", icon: "ğŸ¥", name: "èº«ä½“ä¸çœ‹ç—…", color: "#c0392b",
    words: [
      { k: "ç—…é™¢", r: "ã³ã‚‡ã†ã„ã‚“", m: "åŒ»é™¢", t: "noun" },
      { k: "åŒ»è€…", r: "ã„ã—ã‚ƒ", m: "åŒ»ç”Ÿ", t: "noun" },
      { k: "è–¬", r: "ãã™ã‚Š", m: "è¯", t: "noun" },
      { k: "ç—…æ°—", r: "ã³ã‚‡ã†ã", m: "ç”Ÿç—…", t: "noun" },
      { k: "ä½“", r: "ã‹ã‚‰ã ", m: "èº«ä½“", t: "noun" },
      { k: "é ­", r: "ã‚ãŸã¾", m: "å¤´", t: "noun" },
      { k: "ç›®", r: "ã‚", m: "çœ¼ç›", t: "noun" },
      { k: "è€³", r: "ã¿ã¿", m: "è€³æœµ", t: "noun" },
      { k: "å£", r: "ãã¡", m: "å˜´", t: "noun" },
      { k: "æ­¯", r: "ã¯", m: "ç‰™é½¿", t: "noun" },
      { k: "æ‰‹", r: "ã¦", m: "æ‰‹", t: "noun" },
      { k: "è¶³", r: "ã‚ã—", m: "è„š/è…¿", t: "noun" },
      { k: "ãŠè…¹", r: "ãŠãªã‹", m: "è‚šå­", t: "noun" },
      { k: "é¢¨é‚ª", r: "ã‹ãœ", m: "æ„Ÿå†’", t: "noun" },
      { k: "ç†±", r: "ã­ã¤", m: "å‘çƒ§", t: "noun" },
      { k: "ç—›ã„", r: "ã„ãŸã„", m: "ç–¼çš„", t: "adj" },
      { k: "å…ƒæ°—", r: "ã’ã‚“ã", m: "å¥åº·çš„", t: "adj" },
      { k: "å¤§ä¸ˆå¤«", r: "ã ã„ã˜ã‚‡ã†ã¶", m: "æ²¡é—®é¢˜", t: "adj" },
    ],
    sentences: [
      { jp: "è¿‘ãã«ç—…é™¢ã¯ã‚ã‚Šã¾ã™ã‹ã€‚", kana: "ã¡ã‹ãã« ã³ã‚‡ã†ã„ã‚“ã¯ ã‚ã‚Šã¾ã™ã‹ã€‚", cn: "é™„è¿‘æœ‰åŒ»é™¢å—ï¼Ÿ" },
      { jp: "é ­ãŒç—›ã„ã§ã™ã€‚è–¬ã‚’ãã ã•ã„ã€‚", kana: "ã‚ãŸã¾ãŒ ã„ãŸã„ã§ã™ã€‚ãã™ã‚Šã‚’ ãã ã•ã„ã€‚", cn: "æˆ‘å¤´ç–¼ï¼Œè¯·ç»™æˆ‘è¯ã€‚" },
      { jp: "é¢¨é‚ªã‚’ã²ãã¾ã—ãŸã€‚ç†±ãŒã‚ã‚Šã¾ã™ã€‚", kana: "ã‹ãœã‚’ ã²ãã¾ã—ãŸã€‚ã­ã¤ãŒ ã‚ã‚Šã¾ã™ã€‚", cn: "æˆ‘æ„Ÿå†’äº†ï¼Œæœ‰ç‚¹å‘çƒ§ã€‚" },
      { jp: "è–¬ã‚’é£²ã‚“ã§ã€ã‚†ã£ãã‚Šä¼‘ã‚“ã§ãã ã•ã„ã€‚", kana: "ãã™ã‚Šã‚’ ã®ã‚“ã§ã€ã‚†ã£ãã‚Š ã‚„ã™ã‚“ã§ãã ã•ã„ã€‚", cn: "è¯·åƒè¯ï¼Œå¥½å¥½ä¼‘æ¯ã€‚" },
    ]
  },
  {
    id: "weather", icon: "ğŸŒ¤ï¸", name: "å¤©æ°”ä¸å­£èŠ‚", color: "#f1c40f",
    words: [
      { k: "å¤©æ°—", r: "ã¦ã‚“ã", m: "å¤©æ°”", t: "noun" },
      { k: "æ™´ã‚Œ", r: "ã¯ã‚Œ", m: "æ™´å¤©", t: "noun" },
      { k: "æ›‡ã‚Š", r: "ãã‚‚ã‚Š", m: "é˜´å¤©", t: "noun" },
      { k: "é›¨", r: "ã‚ã‚", m: "é›¨", t: "noun" },
      { k: "é›ª", r: "ã‚†ã", m: "é›ª", t: "noun" },
      { k: "é¢¨", r: "ã‹ãœ", m: "é£", t: "noun" },
      { k: "å‚˜", r: "ã‹ã•", m: "ä¼", t: "noun" },
      { k: "æ˜¥", r: "ã¯ã‚‹", m: "æ˜¥å¤©", t: "noun" },
      { k: "å¤", r: "ãªã¤", m: "å¤å¤©", t: "noun" },
      { k: "ç§‹", r: "ã‚ã", m: "ç§‹å¤©", t: "noun" },
      { k: "å†¬", r: "ãµã‚†", m: "å†¬å¤©", t: "noun" },
      { k: "æš‘ã„", r: "ã‚ã¤ã„", m: "çƒ­çš„", t: "adj" },
      { k: "å¯’ã„", r: "ã•ã‚€ã„", m: "å†·çš„", t: "adj" },
      { k: "æš–ã‹ã„", r: "ã‚ãŸãŸã‹ã„", m: "æš–å’Œçš„", t: "adj" },
      { k: "æ¶¼ã—ã„", r: "ã™ãšã—ã„", m: "å‡‰çˆ½çš„", t: "adj" },
    ],
    sentences: [
      { jp: "æ˜æ—¥ã®å¤©æ°—ã¯ã©ã†ã§ã™ã‹ã€‚", kana: "ã‚ã—ãŸã® ã¦ã‚“ãã¯ ã©ã†ã§ã™ã‹ã€‚", cn: "æ˜å¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ" },
      { jp: "é›¨ã§ã™ã‹ã‚‰ã€å‚˜ã‚’æŒã£ã¦è¡Œã£ã¦ãã ã•ã„ã€‚", kana: "ã‚ã‚ã§ã™ã‹ã‚‰ã€ã‹ã•ã‚’ ã‚‚ã£ã¦ã„ã£ã¦ãã ã•ã„ã€‚", cn: "ä¸‹é›¨äº†ï¼Œè¯·å¸¦ä¼ã€‚" },
      { jp: "æ—¥æœ¬ã®æ˜¥ã¯æš–ã‹ãã¦ã€æ¡œãŒç¶ºéº—ã§ã™ã€‚", kana: "ã«ã»ã‚“ã® ã¯ã‚‹ã¯ ã‚ãŸãŸã‹ãã¦ã€ã•ãã‚‰ãŒ ãã‚Œã„ã§ã™ã€‚", cn: "æ—¥æœ¬çš„æ˜¥å¤©æš–å’Œï¼Œæ¨±èŠ±å¾ˆæ¼‚äº®ã€‚" },
      { jp: "å†¬ã¯å¯’ã„ã§ã™ãŒã€é›ªãŒã¨ã¦ã‚‚å¥½ãã§ã™ã€‚", kana: "ãµã‚†ã¯ ã•ã‚€ã„ã§ã™ãŒã€ã‚†ããŒ ã¨ã¦ã‚‚ ã™ãã§ã™ã€‚", cn: "å†¬å¤©è™½ç„¶å†·ï¼Œä½†æˆ‘å¾ˆå–œæ¬¢é›ªã€‚" },
    ]
  },
  {
    id: "leisure", icon: "ğŸ‰", name: "ä¼‘é—²å¨±ä¹", color: "#8e44ad",
    words: [
      { k: "æ˜ ç”»", r: "ãˆã„ãŒ", m: "ç”µå½±", t: "noun" },
      { k: "éŸ³æ¥½", r: "ãŠã‚“ãŒã", m: "éŸ³ä¹", t: "noun" },
      { k: "æ­Œ", r: "ã†ãŸ", m: "æ­Œ", t: "noun" },
      { k: "ã‚¹ãƒãƒ¼ãƒ„", r: "ã‚¹ãƒãƒ¼ãƒ„", m: "è¿åŠ¨", t: "noun" },
      { k: "æ—…è¡Œ", r: "ã‚Šã‚‡ã“ã†", m: "æ—…è¡Œ", t: "noun" },
      { k: "æ•£æ­©", r: "ã•ã‚“ã½", m: "æ•£æ­¥", t: "noun" },
      { k: "å…¬åœ’", r: "ã“ã†ãˆã‚“", m: "å…¬å›­", t: "noun" },
      { k: "å±±", r: "ã‚„ã¾", m: "å±±", t: "noun" },
      { k: "æµ·", r: "ã†ã¿", m: "æµ·", t: "noun" },
      { k: "å·", r: "ã‹ã‚", m: "æ²³", t: "noun" },
      { k: "èŠ±", r: "ã¯ãª", m: "èŠ±", t: "noun" },
      { k: "æ³³ãã¾ã™", r: "ãŠã‚ˆãã¾ã™", m: "æ¸¸æ³³", t: "verb" },
      { k: "æ­Œã„ã¾ã™", r: "ã†ãŸã„ã¾ã™", m: "å”±æ­Œ", t: "verb" },
      { k: "éŠã³ã¾ã™", r: "ã‚ãã³ã¾ã™", m: "ç©", t: "verb" },
      { k: "ç™»ã‚Šã¾ã™", r: "ã®ã¼ã‚Šã¾ã™", m: "çˆ¬/ç™»", t: "verb" },
      { k: "è¦‹ã¾ã™", r: "ã¿ã¾ã™", m: "çœ‹", t: "verb" },
      { k: "èãã¾ã™", r: "ããã¾ã™", m: "å¬", t: "verb" },
      { k: "æ¥½ã—ã„", r: "ãŸã®ã—ã„", m: "å¿«ä¹çš„", t: "adj" },
      { k: "é¢ç™½ã„", r: "ãŠã‚‚ã—ã‚ã„", m: "æœ‰è¶£çš„", t: "adj" },
      { k: "ã¤ã¾ã‚‰ãªã„", r: "ã¤ã¾ã‚‰ãªã„", m: "æ— èŠçš„", t: "adj" },
    ],
    sentences: [
      { jp: "å¯Œå£«å±±ã«ç™»ã‚ŠãŸã„ã§ã™ã€‚", kana: "ãµã˜ã•ã‚“ã« ã®ã¼ã‚ŠãŸã„ã§ã™ã€‚", cn: "æˆ‘æƒ³çˆ¬å¯Œå£«å±±ã€‚" },
      { jp: "æµ·ã§æ³³ã„ã§ã€ã¨ã¦ã‚‚æ¥½ã—ã‹ã£ãŸã§ã™ã€‚", kana: "ã†ã¿ã§ ãŠã‚ˆã„ã§ã€ã¨ã¦ã‚‚ ãŸã®ã—ã‹ã£ãŸã§ã™ã€‚", cn: "åœ¨æµ·é‡Œæ¸¸æ³³ï¼Œéå¸¸å¼€å¿ƒã€‚" },
      { jp: "é€±æœ«ã€å‹é”ã¨æ˜ ç”»ã‚’è¦‹ã¾ã™ã€‚", kana: "ã—ã‚…ã†ã¾ã¤ã€ã¨ã‚‚ã ã¡ã¨ ãˆã„ãŒã‚’ ã¿ã¾ã™ã€‚", cn: "å‘¨æœ«å’Œæœ‹å‹çœ‹ç”µå½±ã€‚" },
      { jp: "å¤©æ°—ãŒã„ã„ã‹ã‚‰ã€å…¬åœ’ã§éŠã³ã¾ã—ã‚‡ã†ã€‚", kana: "ã¦ã‚“ããŒã„ã„ã‹ã‚‰ã€ã“ã†ãˆã‚“ã§ ã‚ãã³ã¾ã—ã‚‡ã†ã€‚", cn: "å¤©æ°”å¥½ï¼Œå»å…¬å›­ç©å§ã€‚" },
    ]
  },
  {
    id: "emergency", icon: "ğŸ†˜", name: "ä¸‡èƒ½æ•‘æ€¥çŸ­å¥", color: "#e74c3c",
    words: [
      { k: "ã™ã¿ã¾ã›ã‚“", r: "ã™ã¿ã¾ã›ã‚“", m: "ä¸å¥½æ„æ€/æ‰“æ‰°äº†", t: "phrase" },
      { k: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™", r: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™", m: "éå¸¸æ„Ÿè°¢", t: "phrase" },
      { k: "ãŠé¡˜ã„ã—ã¾ã™", r: "ãŠã­ãŒã„ã—ã¾ã™", m: "æ‹œæ‰˜äº†", t: "phrase" },
      { k: "ã“ã‚Œã‚’ãã ã•ã„", r: "ã“ã‚Œã‚’ãã ã•ã„", m: "è¯·ç»™æˆ‘è¿™ä¸ª", t: "phrase" },
      { k: "ã‚‚ã†ä¸€åº¦ãŠé¡˜ã„ã—ã¾ã™", r: "ã‚‚ã†ã„ã¡ã© ãŠã­ãŒã„ã—ã¾ã™", m: "è¯·å†è¯´ä¸€æ¬¡", t: "phrase" },
      { k: "ã‚†ã£ãã‚ŠãŠé¡˜ã„ã—ã¾ã™", r: "ã‚†ã£ãã‚Š ãŠã­ãŒã„ã—ã¾ã™", m: "è¯·è¯´æ…¢ä¸€ç‚¹", t: "phrase" },
      { k: "åˆ†ã‹ã‚Šã¾ã›ã‚“", r: "ã‚ã‹ã‚Šã¾ã›ã‚“", m: "æˆ‘ä¸æ˜ç™½", t: "phrase" },
      { k: "å¤§ä¸ˆå¤«ã§ã™", r: "ã ã„ã˜ã‚‡ã†ã¶ã§ã™", m: "æ²¡å…³ç³»/æˆ‘æ²¡äº‹", t: "phrase" },
      { k: "åŠ©ã‘ã¦ãã ã•ã„", r: "ãŸã™ã‘ã¦ãã ã•ã„", m: "è¯·å¸®å¸®æˆ‘", t: "phrase" },
      { k: "ã¡ã‚‡ã£ã¨å¾…ã£ã¦ãã ã•ã„", r: "ã¡ã‚‡ã£ã¨ ã¾ã£ã¦ãã ã•ã„", m: "è¯·ç¨ç­‰ä¸€ä¸‹", t: "phrase" },
      { k: "å†™çœŸã‚’æ’®ã£ã¦ã‚‚ã„ã„ã§ã™ã‹", r: "ã—ã‚ƒã—ã‚“ã‚’ ã¨ã£ã¦ã‚‚ ã„ã„ã§ã™ã‹", m: "å¯ä»¥æ‹ç…§å—ï¼Ÿ", t: "phrase" },
      { k: "Wi-Fiã¯ã‚ã‚Šã¾ã™ã‹", r: "ãƒ¯ã‚¤ãƒ•ã‚¡ã‚¤ã¯ ã‚ã‚Šã¾ã™ã‹", m: "æœ‰Wi-Fiå—ï¼Ÿ", t: "phrase" },
      { k: "ã“ã‚Œã¯ä½•ã§ã™ã‹", r: "ã“ã‚Œã¯ ãªã‚“ã§ã™ã‹", m: "è¿™æ˜¯ä»€ä¹ˆï¼Ÿ", t: "phrase" },
      { k: "ã©ã“ã§ã™ã‹", r: "ã©ã“ã§ã™ã‹", m: "åœ¨å“ªé‡Œï¼Ÿ", t: "phrase" },
    ],
    sentences: []
  }
];

const tagClass = { noun: "tag-noun", verb: "tag-verb", adj: "tag-adj", adv: "tag-adv", phrase: "tag-phrase", num: "tag-num" };
const tagLabel = { noun: "å", verb: "åŠ¨", adj: "å½¢", adv: "å‰¯", phrase: "å¥", num: "æ•°" };

let currentScene = "all";
let showSentences = true;
let cardSize = "normal";
let speechRate = 0.85;
let autoPlayActive = false;
let autoPlayQueue = [];
let autoPlayIndex = 0;

function getJaVoice() {
  const voices = speechSynthesis.getVoices();
  let jaVoice = voices.find(v => v.lang === 'ja-JP');
  if (!jaVoice) jaVoice = voices.find(v => v.lang.startsWith('ja'));
  return jaVoice || null;
}

function speakJapanese(text, onEnd) {
  speechSynthesis.cancel();
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'ja-JP';
  utterance.rate = speechRate;
  utterance.pitch = 1;
  const voice = getJaVoice();
  if (voice) utterance.voice = voice;
  if (onEnd) utterance.onend = onEnd;
  utterance.onerror = function() { if (onEnd) onEnd(); };
  speechSynthesis.speak(utterance);
}

function speakWord(reading, btn, card) {
  document.querySelectorAll('.speak-btn.playing').forEach(b => b.classList.remove('playing'));
  document.querySelectorAll('.card.speaking').forEach(c => c.classList.remove('speaking'));
  if (btn) btn.classList.add('playing');
  if (card) card.classList.add('speaking');
  speakJapanese(reading, () => {
    if (btn) btn.classList.remove('playing');
    if (card) card.classList.remove('speaking');
  });
}

function speakSentence(jp, btn, card) {
  document.querySelectorAll('.sent-speak-btn.playing').forEach(b => b.classList.remove('playing'));
  document.querySelectorAll('.sentence-card.speaking').forEach(c => c.classList.remove('speaking'));
  if (btn) btn.classList.add('playing');
  if (card) card.classList.add('speaking');
  speakJapanese(jp, () => {
    if (btn) btn.classList.remove('playing');
    if (card) card.classList.remove('speaking');
  });
}

function playScene(sceneId) {
  const scene = scenes.find(s => s.id === sceneId);
  if (!scene) return;
  autoPlayQueue = [];
  scene.words.forEach(w => autoPlayQueue.push({ type: 'word', text: w.r, display: w.k }));
  if (showSentences) {
    scene.sentences.forEach(s => autoPlayQueue.push({ type: 'sentence', text: s.jp, display: s.jp }));
  }
  autoPlayIndex = 0;
  autoPlayActive = true;
  updateProgressBar();
  document.getElementById('autoplayBar').classList.add('visible');
  playNext();
}

function playAllVisible() {
  const filtered = currentScene === "all" ? scenes : scenes.filter(s => s.id === currentScene);
  autoPlayQueue = [];
  filtered.forEach(scene => {
    scene.words.forEach(w => autoPlayQueue.push({ type: 'word', text: w.r, display: w.k }));
    if (showSentences) {
      scene.sentences.forEach(s => autoPlayQueue.push({ type: 'sentence', text: s.jp, display: s.jp }));
    }
  });
  autoPlayIndex = 0;
  autoPlayActive = true;
  updateProgressBar();
  document.getElementById('autoplayBar').classList.add('visible');
  playNext();
}

function playNext() {
  if (!autoPlayActive || autoPlayIndex >= autoPlayQueue.length) {
    stopAutoPlay();
    return;
  }
  const item = autoPlayQueue[autoPlayIndex];
  document.getElementById('currentWord').textContent = item.display;
  updateProgressBar();
  speakJapanese(item.text, () => {
    autoPlayIndex++;
    if (autoPlayActive) {
      setTimeout(playNext, 600);
    }
  });
}

function updateProgressBar() {
  const pct = autoPlayQueue.length > 0 ? (autoPlayIndex / autoPlayQueue.length) * 100 : 0;
  document.getElementById('progressBar').style.width = pct + '%';
}

function stopAutoPlay() {
  autoPlayActive = false;
  speechSynthesis.cancel();
  document.getElementById('autoplayBar').classList.remove('visible');
  document.getElementById('currentWord').textContent = 'â€”';
  document.getElementById('progressBar').style.width = '0%';
}

function init() {
  if (speechSynthesis.onvoiceschanged !== undefined) {
    speechSynthesis.onvoiceschanged = () => {};
  }
  const btnContainer = document.getElementById("sceneButtons");
  scenes.forEach(s => {
    const btn = document.createElement("button");
    btn.dataset.scene = s.id;
    btn.textContent = s.icon + " " + s.name;
    btn.onclick = function() { filterScene(s.id, this); };
    btnContainer.appendChild(btn);
  });
  render();
}

function filterScene(id, btn) {
  currentScene = id;
  stopAutoPlay();
  document.querySelectorAll("#sceneButtons button").forEach(b => b.classList.remove("active"));
  if (btn) btn.classList.add("active");
  render();
}

function toggleSentences() {
  showSentences = !showSentences;
  render();
}

function setSize(s) {
  cardSize = s;
  document.querySelectorAll(".card-size-toggle button").forEach(b => b.classList.remove("active"));
  event.target.classList.add("active");
  render();
}

function setSpeed(rate, btn) {
  speechRate = rate;
  document.querySelectorAll(".speed-toggle button").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
}

function render() {
  const container = document.getElementById("content");
  container.innerHTML = "";
  const filtered = currentScene === "all" ? scenes : scenes.filter(s => s.id === currentScene);

  filtered.forEach(scene => {
    const section = document.createElement("div");
    section.className = "scene-section";

    const title = document.createElement("h2");
    title.className = "scene-title";
    title.innerHTML = `
      <span>${scene.icon} ${scene.name}</span>
      <button class="play-scene-btn" onclick="playScene('${scene.id}')">â–¶ è¿ç»­æ’­æ”¾</button>
    `;
    section.appendChild(title);

    const grid = document.createElement("div");
    grid.className = "cards-grid" + (cardSize === "large" ? " size-large" : "");

    scene.words.forEach((w, wi) => {
      const card = document.createElement("div");
      card.className = "card";
      card.id = `card-${scene.id}-${wi}`;
      card.innerHTML = `
        <button class="speak-btn" onclick="event.stopPropagation(); speakWord('${w.r.replace(/'/g,"\\'")}', this, this.parentElement)" title="æ’­æ”¾å‘éŸ³">ğŸ”Š</button>
        <span class="tag ${tagClass[w.t] || ''}">${tagLabel[w.t] || ''}</span>
        <div class="kanji">${w.k}</div>
        <div class="reading">${w.r}</div>
        <div class="meaning">${w.m}</div>
      `;
      card.onclick = function() { speakWord(w.r, card.querySelector('.speak-btn'), card); };
      grid.appendChild(card);
    });

    section.appendChild(grid);
    container.appendChild(section);

    if (showSentences && scene.sentences && scene.sentences.length > 0) {
      const sentSection = document.createElement("div");
      sentSection.className = "sentence-section";

      const sentTitle = document.createElement("h2");
      sentTitle.className = "sentence-title";
      sentTitle.textContent = "ğŸ’¬ " + scene.name + " Â· ä¾‹å¥ï¼ˆç‚¹å‡»æ’­æ”¾ï¼‰";
      sentSection.appendChild(sentTitle);

      const sentCards = document.createElement("div");
      sentCards.className = "sentence-cards";

      scene.sentences.forEach((s, si) => {
        const sc = document.createElement("div");
        sc.className = "sentence-card";
        sc.id = `sent-${scene.id}-${si}`;
        sc.innerHTML = `
          <button class="sent-speak-btn" onclick="event.stopPropagation(); speakSentence('${s.jp.replace(/'/g,"\\'")}', this, this.parentElement)" title="æ’­æ”¾ä¾‹å¥">ğŸ”Š</button>
          <div class="jp">${s.jp}</div>
          <div class="kana">${s.kana}</div>
          <div class="cn">${s.cn}</div>
        `;
        sc.onclick = function() { speakSentence(s.jp, sc.querySelector('.sent-speak-btn'), sc); };
        sentCards.appendChild(sc);
      });

      sentSection.appendChild(sentCards);
      container.appendChild(sentSection);
    }
  });
}

init();
</script>

</body>
</html>
